;(function(oojs) {oojs.define({name:"bottomSearchBar",namespace:"dup.ui.painter",deps:{config:"dup.common.config",dom:"dup.common.utility.dom",slot:"dup.business.slot",frame:"dup.business.frame",viewWatch:"dup.business.viewWatch",monitor:"dup.business.monitor",style:"dup.common.utility.style",event:"dup.common.utility.event",browser:"dup.common.utility.browser"},validate:function(t){return!0},generatorTransition:function(t){t.style.transition="all 300ms ease",t.style.webkitTransition="all 300ms ease",t.style.mozTransition="all 300ms ease",t.style.msTransition="all 300ms ease",t.style.oTransition="all 300ms ease"},makeIEFilter:function(t){return"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='//cpro.baidustatic.com/cpro/ui/noexpire/img/"+t+".png');"},initDom:function(t){this.canFixed=this.style.canFixed(),this.isIe6=!(!this.browser.ie||6!==parseInt(this.browser.ie,10));var i=90,e=t.response,n=e.placement,s=i;"undefined"!==n.fillstyle.opacity&&(s=parseInt(n.fillstyle.opacity,10));var o=n.fillstyle.backgroundColor||"#000000";if(this.closeBtnBgImg="//cpro.baidustatic.com/cpro/ui/noexpire/img/toggle_btn_bk1.png",this.closeBtnBgImgName="toggle_btn_bk1",this.openBtnBgImg="//cpro.baidustatic.com/cpro/ui/noexpire/img/toggle_btn_bk2.png",this.openBtnBgImgName="toggle_btn_bk2",t.isOnceSeach?(this.container=this.dom.g(t.containerId),this.iframeWrap=this.dom.g(t.containerId+"_insert")):(this.container=document.createElement("div"),this.iframeWrap=document.createElement("div")),this.containerHeight=84,this.container.style.cssText="display: block;height: 84px;right: 0px;z-index: 2147483646;text-align: center; font-size: 0px; position:"+(this.canFixed?"fixed":"absolute")+";bottom: 0px; width: 100%;",this.mask=document.createElement("div"),this.mask.style.cssText="bottom: 0px;left: 0px;position: absolute;width: 100%;height: 100%;filter:alpha(opacity="+s+");opacity: "+s/100+";background-color: "+o,this.button=document.createElement("div"),this.button.style.cssText="z-index:2147483646;cursor:pointer;position:absolute;right:0;bottom:0;width:40px;height:100%;filter:alpha(opacity="+s+");opacity: "+s/100+";background-color: "+o,this.buttonIcon=document.createElement("div"),this.buttonIcon.style.cssText="width: 20px; height: 22px; position: absolute; top: 50%; margin-top: -11px; left: 50%; margin-left: -10px; "+(this.isIe6?"":"background: url("+this.closeBtnBgImg+") no-repeat;"),this.isIe6&&(this.buttonIcon.style.filter=this.makeIEFilter(this.closeBtnBgImgName)),this.button.appendChild(this.buttonIcon),this.iframeWrap.style.cssText="position:relative;text-align:center;margin:5px 0;",this.generatorTransition(this.mask),this.generatorTransition(this.iframeWrap),t.isOnceSeach){this.container.insertBefore(this.mask,this.iframeWrap),this.container.insertBefore(this.button,this.mask);var a=this.dom.g(t.containerId+"_frame");a.setAttribute("height",t.height),a.setAttribute("width",t.width)}else this.container.appendChild(this.mask),this.container.appendChild(this.button),this.container.appendChild(this.iframeWrap),this.iframeWrap.innerHTML=this.frame.getFrameHTML(t),document.getElementsByTagName("body")[0].appendChild(this.container);this.bindEvent(),this.canFixed||this.polyfill4fixed(),this.viewWatch.regisetViewWatch(t)},polyfill4fixed:function(){function t(){var t=i.style.getScrollTop(),e=i.style.getClientHeight();i.container.style.top=t+e-i.containerHeight+"px"}var i=this;this.event.bind(window,"scroll",function(){t()}),this.event.bind(window,"resize",function(){t()})},expandAd:function(){this.isIe6?this.buttonIcon.style.filter=this.makeIEFilter(this.closeBtnBgImgName):this.buttonIcon.style.backgroundImage="url("+this.closeBtnBgImg+")",this.mask.style.bottom=0,this.iframeWrap.style.bottom=0},collapseAd:function(){this.isIe6?this.buttonIcon.style.filter=this.makeIEFilter(this.openBtnBgImgName):this.buttonIcon.style.backgroundImage="url("+this.openBtnBgImg+")",this.mask.style.bottom="-84px",this.iframeWrap.style.bottom="-84px"},bindEvent:function(){var t=!0,i=this;this.event.bind(this.button,"click",function(){t?(t=!1,i.collapseAd()):(t=!0,i.expandAd())})},render:function(t){this.initDom(t)}});})(_ssp_global.oojs);